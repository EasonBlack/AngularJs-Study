<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <link href="../../style/bootstrap.css" rel="stylesheet"/>
    <style>
        .container {
            padding-top: 30px;
        }

        .bar-container {
            display: flex;
            flex-direction: row;
            width: 100%;
            height: 40px;
        }

        .bar-container div {
            flex: 1;
        }

        .box1 {
            background-color: #990073;
        }

        .box1:hover {
            position: relative;
            box-shadow: 0px 0px 0px 5px #990073;
            z-index: 10;
        }
        .box1:hover:after {
            content: 'aaaaaa';
            position: absolute;
            right: 0;
            bottom: 0;
            background-color: #006600;
            color: white;
            padding:5px 10px;
        }

        .box2 {
            background-color: #8a6d3b;
        }

        .box2:hover {
            box-shadow: 0px 0px 0px 5px #8a6d3b;
            z-index: 10;
        }

        .box3 {
            background-color: #006600;
        }

        .box3:hover {
            box-shadow: 0px 0px 0px 5px #006600;
            z-index: 10;
        }

        .box4 {
            background-color: #002a80;
        }

        .box4:hover {
            box-shadow: 0px 0px 0px 5px #002a80;
            z-index: 10;
        }
    </style>
</head>
<body>
<div class="container" ng-app="app" ng-controller="appCtrl">
    <div class="bar-container">
        <div class="box box1" ng-style="{'flex-grow': f1}"></div>
        <div class="box box2" ng-style="{'flex-grow': f2}"></div>
        <div class="box box3" ng-style="{'flex-grow': f3}"></div>
        <div class="box box4" ng-style="{'flex-grow': f4}"></div>
    </div>
    <div class="input-container">
        <input type="text" class="input1" ng-model="bar.m1"/>
        <input type="text" class="input2" ng-model="bar.m2"/>
        <input type="text" class="input3" ng-model="bar.m3"/>
        <input type="text" class="input4" ng-model="bar.m4"/>
    </div>
</div>
</body>
<script src="../../vendor/jquery-1.11.1.js"></script>
<script src="../../vendor/angular.js"></script>
<script>
    angular.module('app', [])
            .controller('appCtrl', ['$scope', function ($scope) {
                $scope.bar = {
                    m1: 10,
                    m2: 10,
                    m3: 10,
                    m4: 10
                }

                $scope.$watch('bar', function (n) {
                    var sum = parseInt($scope.bar.m1) + parseInt($scope.bar.m2) + parseInt($scope.bar.m3) + parseInt($scope.bar.m4);
                    var part = sum / 4;
                    $scope.f1 = $scope.bar.m1 / part;
                    $scope.f2 = $scope.bar.m2 / part;
                    $scope.f3 = $scope.bar.m3 / part;
                    $scope.f4 = $scope.bar.m4 / part;
                    console.log($scope.f1, $scope.f2, $scope.f3, $scope.f4)
                }, true)
            }])
</script>
</html>